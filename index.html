<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Halo by leeenx</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Halo</h1>
        <h2>HALOJS</h2>
        <a href="https://github.com/leeenx/halo" class="button"><small>View project on</small> GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h1>
<a id="halojs-概述" class="anchor" href="#halojs-%E6%A6%82%E8%BF%B0" aria-hidden="true"><span class="octicon octicon-link"></span></a>HALO.JS 概述</h1>

<p><strong>HALO.JS的产生背景</strong></p>

<p>最近随着 JDC 轻APP 页面的火爆，大量的 H5 活动页面使用轻应用模式展示，产生了大量新的交互方式及功能，并且这些交互方式和功能是可以独立于页面被模块化出来的。</p>

<p><strong>HALO.JS的功能</strong></p>

<p>一个交互效果的诞生可能需要耗费我等码农数小时甚至数天的时间完成，为了提高开发的效率和方便模块的引入，halo.js 应运而生。
halo.js 的作用是将分散的多个模块打包成一个文件加载到页面上去，省去了农们复制粘贴的工作，所以 halo.js 不是模块的生产者，它只是模块的搬运工，开发者可以根据自身的需求引入不同的模块。</p>

<p><strong>HALO.JS核心文件</strong></p>

<p>halo.js的核心文件是参考yui的模块加载的方式编写的。因为研究过yui的加载方式，所以只是从观察者的角度去创建了halo.js的核心。后来发现写出来的核心采用了amd模式，即模块依懒前置。考虑到combo服务，使用AMD模块会更简单，所以就不转用cmd模式了。</p>

<p><strong>初版注意</strong></p>

<p>目前上传的版本是直接提取了JDC 线上的版本，有一些功能和匹配是跟JDC业务相关。后继会把这些部分分离出来，推出一个纯粹的版本。</p>

<hr>

<h1>
<a id="使用说明" class="anchor" href="#%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E" aria-hidden="true"><span class="octicon octicon-link"></span></a>使用说明</h1>

<p>使用时，请先下载<code>halo.js</code>的文件包，并布置在项目的<code>/js</code>目录下。然后在页面添加以下代码<br>
<code>&lt;script src="/js/halo.js"&gt;&lt;/script&gt;</code></p>

<h3>
<a id="halojs-api" class="anchor" href="#halojs-api" aria-hidden="true"><span class="octicon octicon-link"></span></a>HALO.JS API</h3>

<p><strong>use</strong></p>

<p>按名字载入模块</p>

<p>语法：<code>halo.use(string1,string2,...,stringX,function);</code></p>

<table width="100%">
    <tr>
        <th width="100">参数说明：</th>
        <th></th>
    </tr>
    <tr>
        <td>string1,string2,...,string3</td>
        <td>可选，要引入的模块名</td>
    </tr>
    <tr>
        <td>function</td>
        <td>必选，模块加载成功后的回调函数。回调时返回一个参数`m`，表示载入的模块集合</td>
    </tr>
</table>

<pre>
/*example*/

halo.use('msgbox',function(m){  
    m.msgbox.show('使用了msgbox模块');  
});
</pre>

<p><strong>off</strong></p>

<p>方法，为指定 DOM 解绑事件</p>

<p>语法：<code>m.off(DOM,event,callback,capture);</code></p>

<table width="100%">
    <tr>
        <th width="100">参数说明：</th>
        <th></th>
    </tr>
    <tr>
        <td>DOM</td>
        <td>必选，要解绑事件的 DOM 节点</td>
    </tr>
    <tr>
        <td>event</td>
        <td>必选，要解绑的事件名。可以是原生事件，也可以是封装的定制事件</td>
    </tr>
    <tr>
        <td>callback</td>
        <td>必选，事件函数</td>
    </tr>
    <tr>
        <td>capture</td>
        <td>可选，boolean 类型，表示事件的传递方法是捕获还是冒泡方法</td>
    </tr>
</table>          

<pre>
/*example*/
halo.use(function(m){
    m.on(button,'click',function(e){
        //TODO
    });
    m.off(button,'click');//完成解绑
});
</pre>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/leeenx/halo/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/leeenx/halo/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/leeenx/halo"></a> is maintained by <a href="https://github.com/leeenx">leeenx</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  
  </body>
</html>
