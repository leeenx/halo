halo.add("browser",function(){var agent=function(){var u=navigator.userAgent,app=navigator.appVersion;return{trident:u.indexOf("Trident")>-1,presto:u.indexOf("Presto")>-1,webkit:u.indexOf("AppleWebKit")>-1,gecko:u.indexOf("Gecko")>-1&&u.indexOf("KHTML")==-1,mobile:!!u.match(/AppleWebKit.*Mobile.*/)||!!u.match(/AppleWebKit/),ios:!!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:u.indexOf("Android")>-1||u.indexOf("Linux")>-1,iphone:u.indexOf("iPhone")>-1||u.indexOf("Mac")>-1,ipad:u.indexOf("iPad")>-1,webapp:u.indexOf("Safari")==-1,weixin:u.indexOf("MicroMessenger")>-1,qq:(/qq\/([\d\.]+)*/i).test(u)>-1}}(),version=function(){var u=navigator.userAgent,matchIndex=u.indexOf("Android");if(matchIndex>-1){var num=u.substring(matchIndex+7,matchIndex+11).replace(/[^0-9\.]/g,"");return parseFloat(num)}return""}();return function(a){if(typeof(a)=="string"){a=a.toLowerCase();if("ie"==a){a="trident"}else{if("opera"==a){a="presto"}else{if("firefox"==a){a="gecko"}}}if(agent.hasOwnProperty(a)){if("android"==a&&agent[a]){return version}else{return agent[a]}}}else{return}}}());