halo.use(function(a){halo.add("prepublish",function(){var d,g,h,e,f,b=location.host,c=/((.*\.)?paipai.com$)|((.*\.)?wanggou.com$)/;top==window?c.test(b)||(location.href="http://mm.wanggou.com/halo/prepublish.html?inc="+encodeURIComponent(location.href)+"&title="+encodeURIComponent(document.getElementsByTagName("title")[0].innerHTML)):(d=document.createEvent("HTMLEvents"),window.addEventListener("message",function(a){if("wxcb"==a.data.type)g&&g.cb&&g.cb(a.data.ret);else if("qqcb"==a.data.type)h&&h.cb&&h.cb(a.data.ret);else if("scroll"==a.data.type){var b=a.data.pos;window.HALO_ST=b.y,window.HALO_SL=b.x,d.initEvent("scroll",!0,!0),window.dispatchEvent(d),window.onscroll&&window.onscroll()}}),e=function(){},f=function(){},a.weixinshare&&(e=a.weixinshare,a.weixinshare=function(){var a=e.apply(this,arguments);return parent.postMessage({type:"weixinshare",arg:a},"*"),g=a,a}),a.qqshare&&(f=a.qqshare,a.qqshare=function(){var a=f.apply(this,arguments);return parent.postMessage({type:"qqshare",arg:a},"*"),h=a,a}))})});