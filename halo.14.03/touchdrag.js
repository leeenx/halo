var TOUCH_DRAG=function(){function l(a,b,c){if(a){if(b.constructor!=String)return;var d=b.replace(/\-([a-z]{1})/g,function(a,b){return b.toUpperCase()});if("undefined"==typeof c){if("scrollLeft"==d||"scrollTop"==d)return a[d];if(document.all){if("opacity"==d){var e=a.currentStyle.filter.replace(/[a-zA-Z\s\(\)\:]/g,"");return e=parseFloat(e),e=isNaN(e)?1:.01*e}return a.currentStyle[d]}return document.defaultView.getComputedStyle(a,null)[b]}if("scrollLeft"==d||"scrollTop"==d)return a[d]=c,void 0;a.style[d]=c,"opacity"==d&&document.all&&(a.style.filter="alpha(opacity:"+100*c+")")}}function F(){for(var b=0,c=u.length;c>b;++b){var d=u[b].elem.getAttribute("TOUCH_DRAG_BIND"),e=u[b].elem.parentNode;if("XY"!=d){for(;"BODY"!=e.tagName&&"HTML"!=e.tagName;){var f=e.getAttribute("TOUCH_DRAG_BIND");if(f&&f!=d){u[b].parentIndex=parseInt(e.getAttribute("TOUCH_DRAG_BIND_INDEX"));break}}("BODY"==e.tagName||"HTML"==e.tagName)&&(u[b].parentIndex=void 0)}}}function G(b){if("start"!=a){var c=parseInt(this.getAttribute("TOUCH_DRAG_BIND_INDEX")),d=K(this);if(A=d.X,x=d.Y,z=0,w=0,B=-1,C=u[c],"touchstart"==f){var e=b.targetTouches||b.changedTouches;if(e){var g=e[0];g&&(y=g.pageX,v=g.pageY)}}else y=b.clientX,v=b.clientY;b.stopPropagation(),b.preventDefault(),a="start"}}function H(b){if(!C.lock&&("start"==a||"move"==a)){if(b.preventDefault(),b.stopPropagation(),a="move","touchstart"==f){var c=b.targetTouches||b.changedTouches;if(c){var d=c[0];z=d.pageX-y,w=d.pageY-v}}else z=b.clientX-y,w=b.clientY-v;if(-1==B)if(B=Math.abs(z)>Math.abs(w)?0:1,"undefined"!=typeof C.parentIndex){if(0==B&&"Y"==C.direction||1==B&&"X"==C.direction){this.removeEventListener(h,H,!1),this.removeEventListener(g,H,!1),this.addEventListener(g,J,!1),C=u[C.parentIndex];var e=K(C.elem);return A=e.X,x=e.Y,void 0}}else"Y"==C.direction?B=1:"X"==C.direction&&(B=0);else 1==B?this.style[j+"transform"]="translate3d("+A+"px,"+(x+w)+"px,0)":0==B?this.style[j+"transform"]="translate3d("+(A+z)+"px,"+x+"px,0)":a="end"}}function I(){if(!C.lock){var c=this.style[j+"transform"];if(0==B)var d=parseInt(i(c,"translate3d",0))||A,e=d-A,f=C.x_page_count,g=C.x_cur_page,h=C.x_cur_page;else{if(1!=B)return;var k=parseInt(i(c,"translate3d",1))||x,e=k-x,f=C.y_page_count,g=C.y_cur_page,h=C.y_cur_page}if("start"!=a||0!=e){if(Math.abs(e)>80){if(e>0&&h>0?g=h-1:0>e&&f-1>h&&(g=h+1),g!=h)return C.lock=!0,L(C,h,g,!1,0==B?"X":"Y"),1==B?C.y_cur_page=g:0==B&&(C.x_cur_page=g),void 0}else if(0==e)return;C.lock=!0,1==B?(o(this,"TOUCH_DRAG_RESTORE"),this.style[j+"transform"]="translate3d("+A+"px,-"+h*s+"px,0)"):0==B&&(o(this,"TOUCH_DRAG_RESTORE"),this.style[j+"transform"]="translate3d(-"+h*t+"px,"+x+"px,0)");var l=this;!function(a){setTimeout(function(){p(l,"TOUCH_DRAG_RESTORE"),a.lock=!1},200)}(C)}}}function J(){this.removeEventListener(g,J,!1),this.addEventListener(h,H,!1),this.addEventListener(g,I,!1)}function K(a){var b=a.style[j+"transform"];return x=parseInt(i(b,"translate3d",1))||0,A=parseInt(i(b,"translate3d",0))||0,{X:A,Y:x}}if("undefined"==typeof a){var a="stop",b=0,c=0,d=0,e=0;if(console=console||{log:function(){}},"ontouchstart"in document)var f="touchstart",g="touchend",h="touchmove";else var f="mousedown",g="mouseup",h="mousemove";document.body.addEventListener(f,function(g){if(a="start",d=0,e=0,"touchstart"==f){var h=g.changedTouches||g.targetTouches,i=h[0];b=i.pageX,c=i.pageY}else b=g.clientX,c=g.clientY},!1),document.body.addEventListener(h,function(g){if("start"==a||"move"==a){var h=0,i=0;if("touchstart"==f){var j=g.changedTouches||g.targetTouches,k=j[0];h=Math.abs(k.pageX-b),i=Math.abs(k.pageY-c)}else h=Math.abs(g.clientX-b),i=Math.abs(g.clientY-c);(h>5||i>5)&&(a="move"),d=h,e=i}},!1),document.body.addEventListener(g,function(){a="stop"},!1),document.body.addEventListener("touchcancel",function(){a="stop"},!1)}var i=function(a,b){b=b.replace(/\-/g,"\\-");var c=[0];if(arguments.length>2)for(var d=2;d<arguments.length;++d)c[d-2]=arguments[d];if("none"==a||""==a)return null;var e=new RegExp(b+"\\(([^\\)]+)\\)","ig"),f=a.match(e),g=[],h=[];if(f&&f.length>0){f=f[0],g=f.replace(e,"$1").split(",");for(var d=0;d<c.length;++d)h.push(g[c[d]])}return 1==h.length&&(h=h[0]),h},j=function(){var a=document.createElement("div");return a.style.cssText="-webkit-transition:all .1s; -moz-transition:all .1s; -o-transition:all .1s; -ms-transition:all .1s; transition:all .1s;",a.style.webkitTransition?"-webkit-":a.style.mozTransition?"-moz-":a.style.oTransition?"-o-":a.style.msTransition?"-ms-":""}();!function(){return"-webkit-"==j?function(a){return{"-webkit-transform":a}}:"-moz-"==j?function(a){return{"-moz-transform":a}}:"-o-"==j?function(a){return{"-o-transform":a}}:"-ms-"==j?function(a){return{"-ms-transform":a}}:function(a){return{transform:a}}}();var n=function(){function b(b){for(var c=a,d=b.split("\r\n"),e=c.cssRules?c.cssRules.length:0,f=0;f<d.length;++f)c.insertRule(d[f],e++);return e}var a=function(){var a=document.getElementsByTagName("head")[0],b=document.createElement("style");return b.type="text/css",a.appendChild(b),document.styleSheets[document.styleSheets.length-1]}();return{add:b}}(),o=function(a,b){var c=a.className,d=new RegExp("(^"+b+"\\s+)|(\\s+"+b+"\\s+)|(\\s+"+b+"$)|(^"+b+"$)","g");if(c){if(d.test(c))return;a.className=c+" "+b}else a.className=b},p=function(a,b){var c=a.className,d=new RegExp("(^"+b+"\\s+)|(\\s+"+b+"\\s+)|(\\s+"+b+"$)|(^"+b+"$)","g");c=c.replace(d,function(a,b,c){return c?" ":""}),a.className=c};document.body.style.cssText="width:100%; height:100%; overflow:hidden; margin:0; padding:0;",document.documentElement.style.cssText="width:100%; height:100%; overflow:hidden; margin:0; padding:0;";var q=function(){var a=document.createElement("div"),b=document.createElement("i"),c=document.createElement("div");c.style.cssText="position:absolute; width:100%; height:100%; overflow:hidden; left:0; top:0; z-index:9999; background-color:#18103A; display:none;",a.style.cssText="position:absolute; left:50%; top:50%; width:250px; height:150px; margin:-75px 0 0 -125px; text-align:center; color:#ffffff;",b.style.cssText="position:relative; display:block; width:74px; height:110px; background:url(iphone.png) 0 0 no-repeat; background-size:100%; margin:0 auto; "+j+"transform:rotate(-90deg); "+j+"animation:TOUCH_DRAG_IPHONE 1.6s ease-in infinite;",n.add("@"+j+"keyframes TOUCH_DRAG_IPHONE{0%{"+j+"transform:rotate(-90deg);}25%{"+j+"transform:rotate(0deg);}50%{"+j+"transform:rotate(0deg);}75%{"+j+"transform:rotate(-90deg);}100%{"+j+"transform:rotate(-90deg);}}"),n.add(".TOUCH_DRAG_KEEP{"+j+"transition:"+j+"transform .3s linear;}"),n.add(".TOUCH_DRAG_H_KEEP{"+j+"transition:"+j+"transform .2s linear;}"),n.add(".TOUCH_DRAG_RESTORE{"+j+"transition:"+j+"transform .1s linear;}"),document.body.appendChild(c),c.appendChild(a),a.appendChild(b);var d=document.createTextNode("\u4e3a\u4e86\u66f4\u597d\u7684\u4f53\u9a8c\uff0c\u8bf7\u4f7f\u7528\u7ad6\u5c4f\u6d4f\u89c8");a.appendChild(document.createElement("br")),a.appendChild(d);var e=function(c,e,f){"string"==typeof c&&(a.style.cssText=c),"string"==typeof e&&(b.style.cssText=e),"string"==typeof f&&(d.nodeValue=f)},f=function(){c.style.display="block"},g=function(){c.style.display="none"};return{show:f,hide:g,setCssText:e}}(),r="onorientationchange"in window,s=document.documentElement.clientHeight,t=document.documentElement.clientWidth;r?("0"!=window.orientation&&q.show(),window.addEventListener("orientationchange",function(){"0"!=window.orientation?q.show():q.hide()},!1)):t>s&&q.show(),window.addEventListener("resize",function(){if(s=document.documentElement.clientHeight,t=document.documentElement.clientWidth,r||(t>s?q.show():q.hide()),u.length>0)for(var a=0;a<u.length;++a){var b=u[a].elem.scrollHeight,c=u[a].elem.scrollWidth;if(b!=u[a].height&&(u[a].height=b,u[a].width=c),u[a].x_page_count=c/t,u[a].y_page_count=b/s,u[a].elem.style){var d=u[a].elem.style[j+"transform"];parseInt(i(d,"translate3d",0))||0,parseInt(i(d,"translate3d",1))||0,u[a].elem.style[j+"transform"]="translate3d(-"+u[a].x_cur_page*t+"px,-"+u[a].y_cur_page*s+"px,0)"}}},!1);var x,A,C,u=[],v=0,w=0,y=0,z=0,B=-1,D=function(a,b){if(a){if("YX"==b&&(b="XY"),b=-1!="XY".indexOf(b)?b:"Y",a.getAttribute("TOUCH_DRAG_BIND")){var c=parseInt(a.getAttribute("TOUCH_DRAG_BIND_INDEX"))||0;if(-1!=a.getAttribute("TOUCH_DRAG_BIND").indexOf(b))return u[c];if(a.getAttribute("TOUCH_DRAG_BIND")!=b)return u[c].direction="XY",u[c]}u[c]&&(u[c].direction=b),function(){var b=l(a,"display"),c=l(a,"left"),d=l(a,"position")||"relative";"none"==b&&(a.style.position="absolute",a.style.left="-99999px",a.style.display="block",setTimeout(function(){a.style.display="none",a.style.position=d,a.style.left=c},100))}();var d=a.scrollHeight,e=a.scrollWidth,k=Math.ceil(e/t),m=Math.ceil(d/s),n=0,o=0;if(a.addEventListener(f,G,!1),a.addEventListener(h,H,!1),a.addEventListener(g,I,!1),this.style){var p=this.style[j+"transform"],q=parseInt(i(p,"translate3d",1))||0,r=parseInt(i(p,"translate3d",0))||0;r=Math.abs(r),q=Math.abs(q),b.indexOf("X")&&(n=Math.round(r/t)||0),b.indexOf("Y")&&(o=Math.round(q/s)||0)}return u.push({elem:a,height:d,width:e,x_page_count:k,x_cur_page:n,y_page_count:m,y_cur_page:o,page_change:function(){},direction:b,unbind:function(b){E(a,b)},move:function(b,c,d){var e=parseInt(a.getAttribute("TOUCH_DRAG_BIND_INDEX"));if(!isNaN(e)){var f=u[e];if(d="undefined"==typeof d?f.direction:d.toUpperCase(),("X"!=d||"Y"!=d)&&(d="XY"==f.direction?"Y":f.direction),-1!=f.direction.indexOf(d)){var g=f[d.toLowerCase()+"_cur_page"];L(f,g,b,c,d)}}},lock:!1}),a.setAttribute("TOUCH_DRAG_BIND",b),a.setAttribute("TOUCH_DRAG_BIND_INDEX",u.length-1),F(),u[u.length-1]}},E=function(a,b){var c=parseInt(a.getAttribute("TOUCH_DRAG_BIND_INDEX"));return!isNaN(c)&&"XY"==direction&&b&&"XY"!=b?("X"==b?u[c].direction="Y":"Y"==b&&(u[c].direction="X"),void 0):(a&&(a.removeEventListener(f,G,!1),a.removeEventListener(h,H,!1),a.removeEventListener(g,I,!1),a.removeAttribute("TOUCH_DRAG_BIND"),a.removeAttribute("TOUCH_DRAG_BIND_INDEX")),delete u[c],void 0)},L=function(a,b,c,d,e){var f=a.elem,g=d?"TOUCH_DRAG_WITHOUT_KEEP":1==B?"TOUCH_DRAG_KEEP":"TOUCH_DRAG_H_KEEP",h=d?0:600,i=K(f),k=i.X,l=i.Y;o(f,g),"Y"==e?f.style[j+"transform"]="translate3d("+k+"px,-"+c*s+"px,0)":"X"==e&&(f.style[j+"transform"]="translate3d(-"+c*t+"px,"+l+"px,0)"),function(a,b,c,d,e,f){setTimeout(function(){c!=d&&a.page_change.call(this,c,d,f),p(b,e),a.lock=!1},h)}(a,f,b,c,g,e),"Y"==e?a.y_cur_page=c:"X"==e&&(a.x_cur_page=c)};return{bind:D,unbind:E}}();"undefined"!=typeof halo&&halo.add&&halo.add("touchdrag",TOUCH_DRAG);