halo.use(function(a){halo.add("actbox",function(){var b="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAABUklEQVQ4T53Vy0rDQBQG4Jwq2J32TQQtLejSqvgGBV9EELrquxS6raAounFRsC8jWegu/f9xIifTubZwyKTJfDlzOYk0TfNYVRXjHTEVkW8ci39wTtBpibhEzAR//KJxZKU1jreluEXf0PfMOjXhZ5zcqBSLcA9KakX4GI0XxKgUD6CfcO6E2D54FBWpDVyKp1B6/3AunoPuwCncJqJXn13+5hTDV2vUzTgxLRtcP0ScKsCLejNO4DqpIBqF1bRw6OdaRJt7/dodfnIqVNYDtFnqevi8/IWYxCq0syv0E7H6RF8RbZk6SZusg+XvhQMooQPEUD0hiO/AAdQsFKKH4LtlnMLdAvENv7P6tvyTuC7pJOpsxSjevoSy0Vycr81iNAsHzC11pRYjWlHungvM+RMz/sHNfduhCI1kbj5ND7iB8YG4j5Wpm61TUPwSLRAXiPkWKWPUU0rTXW8AAAAASUVORK5CYII=",c="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAASCAYAAABFGc6jAAABKUlEQVQ4T2NkoBH4+/nz/3fVtQy/Ll5i4EtJZmCkhT0gS97kFTD8vnETbDwjFxf1LUK3BGQRh7UVdS3CZgmbvh6DSG839SzCZwkTNzcjVeKIkCXgeKI0MRBjCdiiT/MX/P88fyEDu4kxg2BjAwMzLw/RlhNrCdiip3aO/////g32GJu2NoNwfy9RlpFiCdiiNwVF/3+cPAUPQWIs+/vp0/83+YXwfAJ2JDR1gSIeW3Qw/v385f/bwiKGX1evEWUZOZbAEwOxlpFrCUqqI2QZJZZgJG9clgk1NTC8ra4hKU7Q4wkj4iCWFQPj7CpcLSMrKwMsZRIT8VgTAzZBbJbB1BFKXbgKAJyZE5tl5FpCsAgCWfa+rp7h59lzDOwW5gxC9bUMuPIJoaIMAHTo7HbR1h4GAAAAAElFTkSuQmCC",d=document.createElement("div"),e=document.createElement("div"),f=document.createElement("div"),g=document.createElement("h1"),h=document.createElement("div"),i=document.createElement("div"),j=document.createElement("div");a.on(e,"touchstart",function(a){a.stopPropagation()},!1),a.on(e,"touchmove",function(a){a.stopPropagation()},!1),a.on(e,"touchend",function(a){a.stopPropagation()},!1),a.on(d,"touchmove",function(a){a.preventDefault()},!1),a.on(f,"touchstart",function(){o()}),a.stylesheet(".HALO_CHKBOX{display:none;}"),a.stylesheet(".HALO_CHKBOX + .HALO_CHKBOX_SAPN{background-image:url("+c+"); background-position:-100px 3px;}"),a.stylesheet(".HALO_CHKBOX:checked + .HALO_CHKBOX_SAPN{background-position:1px 3px;}"),a.stylesheet(".HALO_RAD{display:none;}"),a.stylesheet(".HALO_RAD + .HALO_RAD_SPAN{text-indent:-9999px;}"),a.stylesheet(".HALO_RAD:checked + .HALO_RAD_SPAN{text-indent:0;}");var s,k={maskBackgroundColor:"rgba(0,0,0,.3)",backgroundColor:"#333333",color:"#ffffff",borderRadius:3,inputColor:"#333333",inputBackgroundColor:"#ffffff",inputBorderWidth:0,inputBorderRadius:3,inputTextAlign:"left",inputBorderColor:"transparent",inputBorderStyle:"none",buttonColor:"#ffffff",buttonBackgroundColor:"#e4393c",buttonBorderRadius:3,checkBorderRadius:3,checkBorderWidth:0,checkBorderStyle:"none",checkedColor:"#E4393C",checkBorderColor:"transparent",checkBackgroundColor:"#ffffff",radioBorderRadius:7,radioBorderWidth:1,radioBorderStyle:"solid",radioColor:"#E4393C",radioBorderColor:"#E4393C",radioBackgroundColor:"#ffffff",closerColor:"#ffffff"},l={closer:k.closerColor,checkbox:k.checkedColor},m=function(){var a=document.createElement("canvas"),b=a.getContext("2d");return function(c,d,e){if("string"==typeof d&&7==d.length||4==d.length){var g,h,i,f=new Image;7==d.length?(g=d.substring(1,3),h=d.substring(3,5),i=d.substring(5,7)):(g=d.substring(1,2),h=d.substring(2,3),i=d.substring(3,4),g+=g,h+=h,i+=i),g=parseInt("0x"+g),h=parseInt("0x"+h),i=parseInt("0x"+i),f.onload=function(){a.width=f.width,a.height=f.height,b.drawImage(f,0,0,f.width,f.height);for(var c=b.getImageData(0,0,f.width,f.height),d=0,j=c.data.length;j>d;d+=4)c.data[d]=g,c.data[d+1]=h,c.data[d+2]=i;b.putImageData(c,0,0,0,0,f.width,f.height);var k=a.toDataURL("image/png");"function"==typeof e&&e(k)},f.src=c}}}(),n=function(h){if("object"==typeof h){var n=document.body.scrollHeight||document.documentElement.scrollHeight,p=document.body.scrollWidth||document.documentElement.scrollWidth,s=document.body.scrollTop,t=document.documentElement.clientHeight,u=document.documentElement.clientWidth,v=document.body.scrollLeft;d.style.cssText="position:absolute; width:"+p+"px; height:"+n+"px; top:0; left:0; background-color:"+k.maskBackgroundColor+"; "+a.webkit+"transition:opacity .3s linear; opacity:0; font-size:14px; line-height:20px; color:"+k.color+"; font-family:Helvetica,STHeiti STXihei, Microsoft JhengHei, Microsoft YaHei, Arial; z-index:9;",e.style.cssText="position:absolute; width:200px; left:0; top:0; background-color:"+k.backgroundColor+"; border-radius:"+k.borderRadius+"px; padding:18px 20px;",document.body.appendChild(d),d.appendChild(e),e.innerHTML="",(!h.hasOwnProperty("closer")||h.closer)&&(f.style.cssText="position:absolute; width:11px; height:11px; overflow:hidden; background:url("+b+") 0 0 no-repeat; top:13px; right:13px; background-size:100%;",l.closer!=k.closerColor&&(l.closer=k.closerColor,m(b,k.closerColor,function(a){b=a,f.style.backgroundImage="url("+b+")"})),e.appendChild(f)),h.title&&(g.style.cssText="padding:0 0 10px 0; margin:0; font-size:14px; height:16px; line-height:16px; font-weight:normal; overflow:hidden; text-align:center;",g.innerHTML=h.title,e.appendChild(g)),h.label&&(i.innerHTML=h.label,e.appendChild(i));var w=[];if(h.input&&h.input.length>0)for(var x=0,y=h.input.length;y>x;++x){var z=document.createElement("input");z.type="text",z.value=h.input[x].text,z.style.cssText="width:190px; height:33px; border-radius:"+k.inputBorderRadius+"px; background-color:"+k.inputBackgroundColor+"; border:"+k.inputBorderWidth+"px "+k.inputBorderStyle+" "+k.inputBorderColor+"; text-align:"+k.inputTextAlign+"; padding:5px; outline:none; color:"+k.inputColor+"; font-size:14px; margin:5px auto;",z.setAttribute("placeholder",h.input[x].placeHolder||""),e.appendChild(z),w.push(z),a.on(z,"touchstart",function(){q(this)},!1),a.on(z,"blur",function(){r(this)},!1)}var A=[];if(h.checkbox&&h.checkbox.length>0){var B="HALO_CHK_ID_"+(new Date).getTime()+"_";l.checkbox!=k.checkedColor&&(l.checkbox=k.checkedColor,m(c,k.checkedColor,function(b){c=b,a.stylesheet(".HALO_CHKBOX + .HALO_CHKBOX_SAPN{background-image:url("+c+"); background-position:-100px 3px;}")}));for(var x=0,y=h.checkbox.length;y>x;++x){var C=document.createElement("label");if(C.style.cssText="display:block; margin:10px 0;",C.setAttribute("for",B+x),h.checkbox[x].before){var D=document.createElement("span");D.innerHTML=h.checkbox[x].before,D.style.cssText="display:inline-block; vertical-align:top; margin-right:8px;",C.appendChild(D)}if("none"!=h.checkbox[x].type){var E=document.createElement("input"),F=document.createElement("span");E.type="checkbox",E.className="HALO_CHKBOX",E.id=B+x,F.className="HALO_CHKBOX_SAPN",F.style.cssText="display:inline-block; width:15px; height:15px; overflow:hide; vertical-align:top; margin-right:8px; border:"+k.checkBorderWidth+"px "+k.checkBorderStyle+" "+k.checkBorderColor+"; border-radius:"+k.checkBorderRadius+"px; position:relative; top:2px; overflow:hidden; background-color:"+k.checkBackgroundColor+"; background-repeat:no-repeat; background-size:13px 9px;","checkAll"==h.checkbox[x].type&&function(b){a.on(C,"click",function(){for(var a=1;a<A.length;++a)A[a].checked=b.checked},!1)}(E),h.checkbox[x].checked&&(E.checked=!0),C.appendChild(E),C.appendChild(F),A.push(E)}if(h.checkbox[x].after){var G=document.createElement("span");G.innerHTML=h.checkbox[x].after,G.style.cssText="display:inline-block; vertical-align:top;",C.appendChild(G)}e.appendChild(C)}}var H=[];if(h.radio&&h.radio.length>0)for(var B="HALO_RAD_ID_"+(new Date).getTime()+"_",x=0,y=h.radio.length;y>x;++x){var C=document.createElement("label");if(C.style.cssText="display:block; margin:10px 0;",C.setAttribute("for",B+x),h.radio[x].before){var D=document.createElement("span");D.innerHTML=h.radio[x].before,D.style.cssText="display:inline-block; vertical-align:top; margin-right:8px;",C.appendChild(D)}if("none"!=h.radio[x].type){var I=document.createElement("input"),J=document.createElement("span"),K=document.createElement("span");I.type="radio",I.className="HALO_RAD",I.id=B+x,I.name=B,J.className="HALO_RAD_SPAN",J.style.cssText="display:inline-block; width:12px; height:12px; overflow:hide; vertical-align:top; margin-right:8px; border:"+k.radioBorderWidth+"px "+k.radioBorderStyle+" "+k.radioBorderColor+"; border-radius:"+k.radioBorderRadius+"px; position:relative; top:2px; overflow:hidden; background-color:"+k.radioBackgroundColor+"; text-align:center;",K.style.cssText="display:inline-block; position:relative; border-radius:4px; width:8px; height:8px; overflow:hidden; background-color:"+k.radioColor+"; top:-5px;",J.appendChild(K),"checkAll"==h.radio[x].type&&function(b){a.on(C,"click",function(){for(var a=1;a<H.length;++a)H[a].checked=b.checked},!1)}(I),h.radio[x].checked&&(I.checked=!0),C.appendChild(I),C.appendChild(J),H.push(I)}if(h.radio[x].after){var G=document.createElement("span");G.innerHTML=h.radio[x].after,G.style.cssText="display:inline-block; vertical-align:top;",C.appendChild(G)}e.appendChild(C)}if(h.text&&(j.innerHTML=h.text,h.title||(j.style.paddingTop="12px"),e.appendChild(j)),h.button&&h.button.length>0){var L=document.createElement("div");L.style.cssText="text-align:center; margin:5px 0;",e.appendChild(L);for(var x=0,y=h.button.length;y>x;++x){var M=document.createElement("input");M.type="button",M.value=h.button[x].text,M.style.cssText="width:auto; height:33px; line-height:33px; display:inline-block; background-color:"+(h.button[x].bgcolor||k.buttonBackgroundColor)+"; border-radius:"+k.buttonBorderRadius+"px; outline:none; text-align:center; font-size:14px; color:"+(h.button[x].color||k.buttonColor)+"; border:0px none; margin:0; padding:0 15px; "+(0!=x?"margin-left:10px;":""),function(b){a.on(M,"flick",function(a){if(a.preventDefault(),a.stopPropagation(),"function"==typeof h.button[b].cb){var c=[],d=0,e=[];for(var f in w)e[f]=c[d++]=w[f].value;for(var f in A)c[d++]=A[f].checked;for(var f in H)c[d++]=H[f].checked;h.button[b].cb.call({hide:function(a){o(a,e)}},c)}(h.button[b].close||!h.button[b].hasOwnProperty("close"))&&o()})}(x),L.appendChild(M)}}setTimeout(function(){e.style.top=s+.5*(t-e.offsetHeight)+"px",e.style.left=v+.5*(u-e.offsetWidth)+"px",d.style.opacity=1},100)}},o=function(a,b){a="function"==typeof a?a:function(){},b&&p(b),d.style.opacity=0,setTimeout(function(){try{d.parentNode.removeChild(d),e.innerHTML="",a()}catch(b){}},300)},p=function(b){if(a.cookie){for(var c="",d=0;d<b.length;++d)if(""!=b[d]){for(var e=d+1;e<b.length;++e)if(b[d]==b[e]){b.splice(e,1);break}}else b.splice(d,1);if(b.length){for(var d=0;d<b.length&&5>d;++d)c+=(0!=d?"|":"")+b[d];for(var f=a.cookie.get("HALO_INPUT_HIS")||"",g=f?f.split("|"):[],d=0;d<g.length;++d)for(var e=0;e<b.length;++e)if(g[d]==b[e]){g.splice(d,1);break}if(b.length<5)for(var d=0;d<5-b.length&&d<g.length;++d)c+="|"+g[d];a.cookie.set("HALO_INPUT_HIS",c)}}},q=function(b){var c=a.cookie.get("HALO_INPUT_HIS"),d=c?c.split("|"):[],f="";if(0!=d.length){var g="position:relative; padding:5px; color:"+k.inputColor+"; height:33px; line-height:33px; border-top:1px solid #D3D3D3;",i=b.offsetTop+b.offsetHeight-k.inputBorderRadius;h.style.cssText="width:200px; height:auto; background-color:"+k.inputBackgroundColor+"; position:absolute; left:50%; margin-left:-100px; top:"+i+"px; border-bottom-left-radius:"+k.inputBorderRadius+"px; border-bottom-right-radius:"+k.inputBorderRadius+"px;";for(var j=0;j<d.length;++j)f+='<div style="'+g+'">'+d[j]+"</div>";f+='<div clear="Y" style="'+g+'color:#6388d4; text-align:center;">\u6e05\u7a7a\u5386\u53f2\u8bb0\u5f55</div>',h.innerHTML=f,a.on(h,"flick",function(c){var d=c.changedTouches||c.targetTouches,e=d[0].target;"Y"==e.getAttribute("clear")?a.cookie.delete("HALO_INPUT_HIS"):b.value=e.innerHTML,a.off(h,"flick")}),e.appendChild(h),s=setInterval(function(){t(d,b.value)},1e3)}},r=function(){s&&clearInterval(s),setTimeout(function(){try{e.removeChild(h)}catch(a){}},300)},t=function(a,b){for(var c="",d="position:relative; padding:5px; color:"+k.inputColor+"; height:33px; line-height:33px; border-top:1px solid #D3D3D3;",e=0;e<a.length;++e)0==a[e].indexOf(b)&&(c+='<div style="'+d+'">'+a[e]+"</div>");c+='<div clear="Y" style="'+d+'color:#6388d4; text-align:center;">\u6e05\u7a7a\u5386\u53f2\u8bb0\u5f55</div>',h.innerHTML=c},u={config:k,show:n,hide:o};return u}())});