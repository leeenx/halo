halo.use(function(a){halo.add("lazyshow",function(b){var e={};var f;var d={};var c={};var g;e.set_scroll=function(i){var h=i.index;var j={loader:i.loader||null,body:i.body||null,callback:i.callback||null,flag:true,page:0,num:parseInt(i.num)||10,is_end:false};if(h!=null){c[h]=j}};e.next_scroll=function(){var k=g;var l=c[k];var n=d[k];var m=l.page;var o=l.num*m;var j=l.num*m+l.num;var h=n.length;if(j>h){j=h;l.is_end=true}else{l.flag=true}l.list=n.slice(o,j);l.page++;return l};e.init_scroll=function(){var l=window.innerHeight;var j=function(){var n=g;if(n==null){return}var p=c[n];var m=p.flag||false;if(m==false){return}var h=p.loader||null;var r=p.callback||null;if(!h||!r){return}var q=document.body.scrollTop;var o=h.offsetTop;if(!o){return}if(q>o-60-l){p.flag=false;r();j()}};var i;var k=function(){if(i){clearTimeout(i)}i=setTimeout(j,100)};window.addEventListener("scroll",function(){k()});j();console.log("lazyshow : init")};e.init=function(h){if(h){g=0}this.push_data(h);this.init_scroll()};e.push_data=function(m){if(m==null){return}var k=m.index||0;d[k]=m.data||[];f=m.holder;if(typeof(f)!="object"){return}var o=m.tigger||".loading";var l=m.body||".list";var n=f.querySelector(o);var i=f.querySelector(l);var p=m.cb||function(){};var j=this;var h=function(){var q=j.next_scroll();p(q)};this.set_scroll({index:k,loader:n,body:i,callback:h});if(g==k){h()}};e.get_data=function(h){var i=c[h]||{};return i};e.switch_data=function(i,h){g=i;if(h){var j=c[g]||{};if(j.callback==null){return}j.callback()}};e.show_data=function(){};e.init(b);return e})});